<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.effect.DropShadow?>

<BorderPane xmlns="http://javafx.com/javafx/21.0.2" xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.baccalaureat.controller.GameController"
            styleClass="game-container">
    
    <!-- Header -->
    <top>
        <VBox>
            <HBox styleClass="header-bar" spacing="20" alignment="CENTER">
                <padding>
                    <Insets top="15" right="25" bottom="15" left="25"/>
                </padding>
                
                <!-- Back Button -->
                <Button fx:id="backButton" text="â† Retour" styleClass="back-button" 
                        onAction="#handleBackToMenu"/>
                
                <!-- Letter Display -->
                <VBox alignment="CENTER" spacing="2">
                    <Label fx:id="letterLabel" text="?" styleClass="letter-display">
                        <effect>
                            <DropShadow color="rgba(78, 204, 163, 0.5)" radius="15"/>
                        </effect>
                    </Label>
                    <Label text="LETTRE" styleClass="letter-label"/>
                </VBox>
                
                <Pane HBox.hgrow="ALWAYS"/>
                
                <!-- Round Info -->
                <VBox alignment="CENTER" styleClass="info-card" spacing="2">
                    <Label text="MANCHE" styleClass="info-label"/>
                    <Label fx:id="roundLabel" text="1/5" styleClass="info-value"/>
                </VBox>
                
                <!-- Score Display -->
                <VBox alignment="CENTER" styleClass="info-card" spacing="2">
                    <Label text="SCORE" styleClass="info-label"/>
                    <Label fx:id="scoreLabel" text="0" styleClass="score-display"/>
                </VBox>
                
                <!-- Timer -->
                <VBox alignment="CENTER" styleClass="timer-container" spacing="2">
                    <Label text="â± TEMPS" styleClass="info-label"/>
                    <Label fx:id="timerLabel" text="01:00" styleClass="timer-label"/>
                </VBox>
            </HBox>
            
            <!-- Progress Bar -->
            <ProgressBar fx:id="timerProgress" progress="1.0" prefWidth="2000" 
                        styleClass="progress-bar"/>
        </VBox>
    </top>
    
    <!-- Categories Grid -->
    <center>
        <ScrollPane fitToWidth="true" style="-fx-background-color: transparent;">
            <VBox fx:id="categoriesContainer" spacing="15" alignment="TOP_CENTER">
                <padding>
                    <Insets top="25" right="40" bottom="25" left="40"/>
                </padding>
                <!-- Categories will be added dynamically -->
            </VBox>
        </ScrollPane>
    </center>
    
    <!-- Bottom Actions -->
    <bottom>
        <HBox spacing="15" alignment="CENTER" styleClass="header-bar">
            <padding>
                <Insets top="15" right="25" bottom="15" left="25"/>
            </padding>
            
            <!-- Hint Button -->
            <Button fx:id="hintButton" text="ðŸ’¡ Indice" styleClass="secondary-button"
                    onAction="#handleHint"/>
            
            <Pane HBox.hgrow="ALWAYS"/>
            
            <!-- Skip Button -->
            <Button fx:id="skipButton" text="â­ Passer" styleClass="secondary-button"
                    onAction="#handleSkipRound"/>
            
            <!-- Validate Button -->
            <Button fx:id="stopButton" text="âœ“ Valider les rÃ©ponses" styleClass="action-button"
                    onAction="#handleStopAndValidate"/>
        </HBox>
    </bottom>
</BorderPane>
